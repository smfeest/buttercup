@inject ITimeFormatter TimeFormatter
@inject IViewLocalizer Localizer
@model Recipe
@{
  ViewData["Title"] = Model!.Title;
}
<header class="recipe-header">
  <h1>@Model.Title</h1>
</header>

<table class="recipe-summary">
  @if (Model.PreparationMinutes != null)
  {
    <tr>
      <th>@Localizer["Label_PreparationTime"]</th>
      <td>@TimeFormatter.AsHoursAndMinutes(Model.PreparationMinutes.Value)</td>
    </tr>
  }
  @if (Model.CookingMinutes != null)
  {
    <tr>
      <th>@Localizer["Label_CookingTime"]</th>
      <td>@TimeFormatter.AsHoursAndMinutes(Model.CookingMinutes.Value)</td>
    </tr>
  }
  @if (Model.Servings != null)
  {
    <tr>
      <th>@Localizer["Label_Servings"]</th>
      <td>@Html.FormatValue(Model.Servings, "{0:d}")</td>
    </tr>
  }
  @if (Model.Source != null)
  {
    <tr>
      <th>@Localizer["Label_Source"]</th>
      <td>@Model.Source</td>
    </tr>
  }
  <tr>
    <th>@Localizer["Label_Added"]</th>
    <td>
      @if (Model.CreatedByUser == null)
      {
        @Html.UserDateTime(Model.Created)
      }
      else
      {
        @Localizer["Label_TimeAndUser", Html.UserDateTime(Model.Created), Model.CreatedByUser.Name]
      }
    </td>
  </tr>
  @if (Model.Modified > Model.Created)
  {
    <tr>
      <th>@Localizer["Label_Updated"]</th>
      <td>
      @if (Model.ModifiedByUser == null)
      {
        @Html.UserDateTime(Model.Modified)
      }
      else
      {
        @Localizer["Label_TimeAndUser", Html.UserDateTime(Model.Modified), Model.ModifiedByUser.Name]
      }
      </td>
    </tr>
  }
</table>

<h2>@Localizer["Label_Ingredients"]</h2>
<ul lines-in="@Model.Ingredients"></ul>

<h2>@Localizer["Label_Method"]</h2>
<ol lines-in="@Model.Method"></ol>

@if (Model.Suggestions != null)
{
  <h2>@Localizer["Label_Suggestions"]</h2>
  <ul lines-in="@Model.Suggestions"></ul>
}

@if (Model.Remarks != null)
{
  <h2>@Localizer["Label_Remarks"]</h2>
  <ul lines-in="@Model.Remarks"></ul>
}

<footer class="button-bar">
  <a class="push-button" asp-action="Edit" asp-route-id="@Model.Id">@Localizer["Label_Edit"]</a>
  <a class="push-button" asp-action="Delete" asp-route-id="@Model.Id">@Localizer["Label_Delete"]</a>
</footer>
